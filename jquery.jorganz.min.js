/**
 * jOrganz v0.2.1
 * Grid layout for html blocks.
 * https://github.com/jrobinsonc/jorganz
 * MIT License
 * by JoseRobinson.com
 */
(function(e){"use strict";e.fn.jOrganz=function(){function i(){var i=[],s=0,o=n.eq(0).width(),u=[parseInt(n.eq(0).css("margin-left"),10)+parseInt(n.eq(0).css("margin-right"),10),parseInt(n.eq(0).css("margin-top"),10)+parseInt(n.eq(0).css("margin-bottom"),10)],a=r;if(o===0){alert("jOrganz error: You must set the items width.");return}r=Math.floor(t.width()/(o+u[0]));if(r===a){return}e.each(n,function(){var n=e(this);s+=1;if(s>r){s=1}if(i[s-1]===undefined){i[s-1]=0}n.css({top:i[s-1],left:(o+u[0])*(s-1)});i[s-1]+=n.height()+u[1];if(i[s-1]>t.height()){t.height(i[s-1])}})}var t=e(this),n=t.children("div"),r=0;t.css("position","relative");n.css("position","absolute");i();var s=e("img",t),o=0,u=s.length;s.load(function(){++o;if(o===u){i()}});e(window).resize(function(){i()})}})(jQuery)